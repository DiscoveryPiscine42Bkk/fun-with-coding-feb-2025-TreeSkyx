<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Balloon EX01 jQuery</title>
</head>
<style>
    body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
    }

    .balloon {
        width: 200px;
        height: 200px;
        background-color: red;
        border-radius: 50%;
    }
</style>

<body>
    <div class="balloon"></div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script>
    const colors = ['red', 'green', 'blue'];
    let colorIndex = 0;

    $(document).ready(function () {
        $(".balloon").click(clickBalloon);
        $(".balloon").mouseleave(deflateBalloon);
    });

    const clickBalloon = () => {
        const $balloon = $(".balloon");
        const currentWidth = parseInt($balloon.css("width"));
        const currentHeight = parseInt($balloon.css("height"));

        $balloon.css({
            width: (currentWidth + 10) + 'px',
            height: (currentHeight + 10) + 'px',
        });

        colorIndex = (colorIndex + 1) % colors.length;
        $balloon.css("background-color", colors[colorIndex]);

        if (currentWidth >= 420) {
            explodeBalloon();
        }
    }

    const explodeBalloon = () => {
        const $balloon = $(".balloon");
        $balloon.css({
            width: '200px',
            height: '200px',
            backgroundColor: 'red'
        });
        colorIndex = 0;
    }

    const deflateBalloon = () => {
        const $balloon = $(".balloon");
        const currentWidth = parseInt($balloon.css("width"));
        const currentHeight = parseInt($balloon.css("height"));

        if (currentWidth > 200) {
            $balloon.css({
                width: (currentWidth - 5) + 'px',
                height: (currentHeight - 5) + 'px',
            });
        }

        colorIndex = (colorIndex - 1 + colors.length) % colors.length;
        $balloon.css("background-color", colors[colorIndex]);
    }
</script>

</html>